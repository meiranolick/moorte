<!doctype html>
<html>
<head>
	<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
	<meta content="true" id="dbcheckMeta"><meta content="pagewise" id="fntype">
	<style id="styletagforeditor">body { border: 0px; font-family:verdana; font-size :10pt; direction :ltr; background-color :#ffffff; line-height :1.2; margin:4% 10% 4% 10%}</style>
	<style id="styletagtwoforeditor">table { font-size: 10pt;} p { margin-top:0px; margin-bottom:0px}</style>
	<!--
	<link href="Assets/editor.css" id="stylesheetforeditor" rel="stylesheet">
	<link href="Assets/print.css" id="stylesheetforpreview" media="print" rel="stylesheet">
	<link href="Assets/print_preview.css" id="stylesheetforprintpreview" media="screen" rel="stylesheet">
	-->
</head>
<body><font style="font-weight: bold; text-decoration: underline;" zid="149" size="3"></font><font style="font-weight: bold;" zid="150" size="3">The MooInline API</font><br zid="1"><br zid="2">You
can create your own buttons and or modify toolbars by extending the
Elements hash.&nbsp; (A "hash" is essentially the same as an object, it
is a way of storing keys and values.)<br zid="5"><br zid="18"><code zid="19">MooInline.Elements.extend({<br zid="20"><span zid="21">&nbsp;&nbsp;&nbsp; HelloButton:{ onClick:function(){ alert('hello world!');}</span><br zid="22">})</code><br zid="23"><br zid="8">All done.&nbsp; <br zid="11">This
button can be included in the toolbar by overriding the default buttons
(see last page).&nbsp; When it is pressed it will make a pop-up alert
box that says "Hello World!".<br zid="26"><br zid="192">'Buttons' in
this context does not just mean buttons.&nbsp; A text node, an image,
or any other element you wish to include in your collection is referred
to here as a button.&nbsp; If you wished to add some text, it would
most simply be done:<br zid="194">&nbsp;<br zid="195"><code zid="196"></code><code zid="211">MooInline.Elements.extend({<br zid="197"><span zid="198">&nbsp;&nbsp;&nbsp; HelloText:{ element:'span', text:'hello world!'</span>}<br zid="199">})</code><br zid="193"><br zid="12"><span style="font-weight: bold;" zid="24">What does the element hash expect?</span><br zid="15"><br zid="27">With the exception of the reserved words, any parameters will become parameters of the element.&nbsp; So:<br zid="28"><br zid="29"><code zid="30">MooInline.Elements.extend({<br zid="31"><span zid="32">&nbsp;&nbsp;&nbsp; myButton:{ abc:14, def:'num', style:"background:url('cow.num')" }</span><br zid="33"> })<br zid="41"><br zid="34"></code>Will create a button:<code zid="42"><br zid="35"><span zid="36"></span>&lt;a abc="14" def="num" style="</code><code zid="37"><span zid="38">background:url('cow.num')</span></code><code zid="39">"&gt;&lt;/a&gt;<br zid="25"></code><br zid="40">The reserved keywords (all are optional):<br zid="126"><ol zid="44"><li zid="255">img - url to the background image (if a number, refers to 'i.gif')</li><li zid="256">group - Groups &amp; collections are discussed next.&nbsp; </li><li zid="257">element - will create an element of the type specified.</li><li zid="258">shortcut - keyboard press that should run the functioned defined as onClick.</li><li zid="259">args
- arguments to be passed into the function, or a function to be run to
receive the arguments.&nbsp; [Generaly used when on-Load/Click/Run
contains a function reference.&nbsp; Passed in to all of those
functions.]</li><li zid="260">onClick - function to run when button is clicked</li><li zid="261">onLoad - function to run when button is loaded onto screen.</li><li zid="79">onRun - function to run when onClick finishes executing.&nbsp; <br zid="111">These 3 functions can also accept the following shortcuts.<ul zid="186"><li zid="110">Object/array - will assume a new collection should be created.&nbsp; (This is discussed later.)</li></ul><ul zid="189"><li zid="109">String
- will assume the&nbsp;function with like name defined in
MooInline.Buttons.&nbsp; ['exec' is the same as
MooInline.Utilities.exec()]</li></ul><ol zid="136"><ol zid="187"><li zid="188">If
string is 'onClick', onLoad', or 'onRun' it will run the function
defined in the&nbsp;specified location. [eg.
myBtn:{onLoad:function(){alert(1)}, onClick:'onLoad' }.&nbsp; myBtn
will alert 1 both onLoad and onClick.]</li></ol></ol></li><li zid="262">contains
- array with list of buttons to include within itself.&nbsp; Unlike the
on.. will put passed elements inside itself instead of inside the
mooInline root. Is called between onLoad and onRun.</li><li zid="275">hides - array of other buttons to hide when this is shown.&nbsp;&nbsp;<br zid="276"></li></ol><br zid="121">The defaults of these properties are:<br zid="122"><ol zid="123"><li zid="124">element - Set to  'a'.&nbsp; If type is set to input, submit, text or password the element will default to 'input'.</li><li zid="138">title - set to the key of the object.&nbsp; If shortcut exists, shortcut added in parenthesis.<br zid="140"></li><li zid="139">class - 'mi'+object key.&nbsp; If an 'a', there is also ''. <br zid="141"></li><li zid="142">unselectable -&nbsp;'on'.&nbsp; For input/textareas the default is 'off'.&nbsp; <br zid="254"></li><li zid="143">onClick - none.&nbsp; (will catch button press and discard it.)<br zid="144"></li><li zid="145">styles - if img is set to a number, background position will be set to number<br zid="146"></li><li zid="147">group - same as selection.&nbsp; (See next)</li><li zid="277">hides - all other collections that are created by buttons within this collection. <br zid="278"></li></ol><br zid="711"><br zid="712"><br zid="713">There
are a few functions included in the Utilities hash. You can add your
own, especially if you will have the same function called by multiple
buttons. <ol zid="152"><li zid="153">Clean - will clean and format the
html and try to protect from xss attacks.&nbsp; Use before doing
anything with the edited text.&nbsp; The parameters are:<ul zid="163"><li zid="164">[String: required] - the html to be formatted</li><li zid="166"> [Object: optional] - options:<ul zid="714"><li zid="715">[xhtml: Boolean] -&nbsp; should it be formatted to html or xhtml</li><li zid="716">[semantic: Boolean] - should it be formatted to semantic tags, such as &lt;strong&gt;</li><li zid="720">[remove: string] - a css string of elements you wish to remove before cleaning.&nbsp; eg. 'div#extra, div.extra'</li></ul></li></ul></li><li zid="155">storeRange/setRange
- store and retrieve the selected text at time button is pressed.&nbsp;
Many functions will cause the selection to be lost and this is the only
way to track what was the selection.&nbsp; These functions take no
parameters.<br zid="170"></li><li zid="157">exec - execute built in
browser formatting functions.&nbsp; Used for most of the default
buttons.&nbsp; Takes three parameters or an array with three
parameters. (Note that the order is not the same as the execute
function of the browser.):<ul zid="171"><li zid="172">[String: required] - name of function to execute.&nbsp; (eg. 'bold')<br zid="178"></li><li zid="176">[Boolean: optional] - the value, if needed (eg. for fontsize - '12')</li><li zid="721">[Boolean: optional] - whether to use the built in dialog</li></ul></li><li zid="159">updateButtons - go through all buttons checking if they should be depressed or normal.&nbsp; No parameters.</li><li zid="161">addCollection - create a new collection of buttons.&nbsp; See on.<ul zid="263"><li zid="264">[Object/Array:required] - list of buttons to be collected and displayed</li><li zid="270">[String: optional] - name of element to be created.</li><li zid="545">[CSS Selector Element Reference: optional] - element to place new collection in/near.<br zid="546"></li></ul><ul zid="272"><li zid="269">[String: optional] - location in relation to element ('bottom' (default), 'top', 'before', 'after').</li><li zid="547">[Array: optional] - list of other collections that should be hid while this is made visible.<br zid="548"></li><li zid="274">[Boolean: optional] - whether or not the collection should be visible.&nbsp; defaults to true.&nbsp; <br zid="265"></li></ul></li></ol><br zid="115"><span style="font-weight: bold;" zid="116">Groups, collections, containers and buttons:&nbsp; </span><br zid="190"><br zid="191">In
the buttons hash all 'buttons' are listed individually, even very
specific text nodes [as said, 'buttons' refer to entries in the buttons
hash, but can be images, text, or other elements].&nbsp; This allows
for flexibility and reuse of code - a 'button' can be used anywhere any
number of times.&nbsp; <br zid="247">But, it leaves unspecified what
buttons should actually be put together.&nbsp; For that you need a
'collection' - a unit of buttons that should be grouped.&nbsp; All
toolbars, pop-ups, or anything that is made up of multiple buttons are
referred to as a collection.<br zid="252"><br zid="253">By default,
each collection is placed on the page directly inside the "mooRTE"
element, though this can be changed by calling the
MooInline.Utilities.addCollection() directly.&nbsp; They are than shown
or hidden according to their "hides" attribute (explained soon).&nbsp;
You can style any or all of the buttons using CSS classes.<br zid="249"><br zid="204">Collections
can be initiated through any of the hash's built in functions, or by
calling ..addCollection() directly.&nbsp; It accepts an object wherein
each key is a button, and the array or string value refers to the
buttons that should be placed within it.<br zid="212"><br zid="213"><code zid="214"></code><code zid="245">MooInline.Buttons.extend({<br zid="218"></code><code zid="302"><span zid="219"></span></code><code zid="279"><span zid="280"></span></code><code zid="220"><span zid="216"><span zid="281">&nbsp;&nbsp;&nbsp;&nbsp;</span></span></code><code zid="382"><span zid="383"><span zid="384"></span></span></code><code zid="232"><span zid="227">H</span></code><code zid="353"><span zid="354">elloText</span></code><code zid="385"><span zid="386">:&nbsp; { element:'span', text:'hello world!'</span>},<br zid="233"><span zid="234">&nbsp;&nbsp;&nbsp; </span></code><code zid="411"><span zid="412"></span></code><code zid="235"><span zid="236"></span></code><code zid="237"><span zid="238">Hel</span></code><code zid="355"><span zid="356">loButton</span></code><code zid="239"><span zid="240"></span></code><code zid="413"><span zid="414">:{ click:function(){ alert('hello world!');}</span></code><code zid="241"><span zid="242">,<br zid="344"><span zid="345">&nbsp;&nbsp;&nbsp; <br zid="346"></span></span></code><code zid="347"><span zid="348"><span zid="349">&nbsp;&nbsp;&nbsp;&nbsp;</span><span zid="370"></span>HelloHolder1:{ contains:['</span></code><code zid="221"><span zid="222">HelloText</span></code><code zid="223"><span zid="224">',</span></code><code zid="225"><span zid="226"></span></code><code zid="228"><span zid="229"></span></code><code zid="230"><span zid="231">'HelloButton'] }</span></code><code zid="303"><span zid="304"><span style="font-family: verdana;" zid="282">,<br zid="305"></span></span></code><code zid="306"><span zid="307"></span></code><code zid="308"><span zid="309"></span></code><code zid="310"><span zid="311"><span zid="312">&nbsp;&nbsp;&nbsp;&nbsp;</span>HelloHolder2:{ onLoad: {div:['</span></code><code zid="313"><span zid="314">HelloText</span></code><code zid="315"><span zid="316">',</span></code><code zid="317"><span zid="318"></span></code><code zid="319"><span zid="320"></span></code><code zid="321"><span zid="322">'HelloButton']} }</span></code>,<br zid="323"><code zid="324"><span zid="325"></span></code><code zid="326"><span zid="327"></span></code><code zid="328"><span zid="329"><span zid="330">&nbsp;&nbsp;&nbsp;&nbsp;</span>HelloHolder3:{ onClick:{div:['</span></code><code zid="331"><span zid="332">HelloText</span></code><code zid="333"><span zid="334">',</span></code><code zid="335"><span zid="336"></span></code><code zid="337"><span zid="338"></span></code><code zid="339"><span zid="340">'HelloButton']} </span></code><code zid="341"><span zid="342"><span style="font-family: verdana;" zid="343"><span zid="284"></span></span></span></code><code zid="350"><span zid="351">}</span></code><code zid="352"><br zid="217">})</code><br zid="205"><br zid="243">When 'HelloHolder1' is added, it will include within itself the HelloText and HelloButton buttons.<br zid="357"><br zid="540">When
'HelloHolder2' is created, it will add a new div element to the MooRTE
div which contains within it the HelloText and HelloButton buttons.<br zid="246"><br zid="543">When
'HelloHolder3' is created, nothing will happen.&nbsp; When clicked, it
will add (or make visible) a new div element to the MooRTE div which
contains within it the HelloText and HelloButton buttons.<br zid="376"><code zid="358"><span zid="359"><br zid="544">&lt;script&gt;&nbsp;<span zid="708"></span>new MooInline('myDiv', {defaults:'HelloHolder1,</span></code><code zid="371"><span zid="372"><span zid="373"></span>HelloHolder2,</span></code><code zid="549"><span zid="550">HelloHolder3</span></code><code zid="551"><span zid="552">'</span></code><code zid="374"><span zid="375">}) &lt;/script&gt;<br zid="366"><br zid="377">&lt;div class="MooInline"&gt;<br zid="378"><span zid="379">&nbsp;&nbsp;&nbsp;&nbsp;</span>&lt;div class="MooRTE"&gt;<br zid="367"><span zid="380">&nbsp;&nbsp;&nbsp;&nbsp;<span zid="381">&nbsp;&nbsp;&nbsp;&nbsp;</span></span>&lt;a </span></code><code zid="442"><span zid="443">class="</span></code><code zid="387"><span zid="388">HelloHolder1</span></code><code zid="389"><span zid="390">"&gt;</span></code><code zid="444"><span zid="445"><br zid="391"><span zid="392">&nbsp;&nbsp;&nbsp;&nbsp;<span zid="393">&nbsp;&nbsp;&nbsp;&nbsp;<span zid="394">&nbsp;&nbsp;&nbsp; </span></span></span></span></code><code zid="446"><span zid="447"><span zid="448"><span zid="449"><span zid="450">&lt;span class="</span></span></span></span></code><code zid="395"><span zid="396"><span zid="397"></span></span></code><code zid="398"><span zid="399">H</span></code><code zid="400"><span zid="401">elloText</span></code><code zid="402"><span zid="403"><span zid="404"><span zid="405"><span zid="406">"&gt; Hello World &lt;/span&gt;<br zid="407"><span zid="408">&nbsp;&nbsp;&nbsp;&nbsp;<span zid="409">&nbsp;&nbsp;&nbsp;&nbsp;<span zid="410">&nbsp;&nbsp;&nbsp; &lt;a class="</span></span></span></span></span></span></span></code><code zid="415"><span zid="416"></span></code><code zid="417"><span zid="418"></span></code><code zid="419"><span zid="420">Hel</span></code><code zid="421"><span zid="422">loButton</span></code><code zid="423"><span zid="424"></span></code><code zid="425"><span zid="426"><span zid="427"><span zid="428"><span zid="429"><span zid="430"><span zid="431"><span zid="432">"&gt;&lt;/a&gt;</span></span></span></span></span></span></span></code><code zid="451"><span zid="452"><span zid="453"><span zid="454"><span zid="455"><span zid="456"><span zid="457"><span zid="458"><br zid="433"><span zid="434">&nbsp;&nbsp;&nbsp;&nbsp;<span zid="435">&nbsp;&nbsp;&nbsp; &lt;/a&gt;<br zid="436"><span zid="437">&nbsp;&nbsp;&nbsp;&nbsp;<span zid="438">&nbsp;&nbsp;&nbsp; <br zid="439"><span zid="440">&nbsp;&nbsp;&nbsp;&nbsp;<span zid="441">&nbsp;&nbsp;&nbsp;</span></span></span></span></span></span></span></span></span></span></span></span></span></code><code zid="553"><span zid="554"><span zid="555"><span zid="556"><span zid="557"><span zid="558"><span zid="559"><span zid="560"><span zid="561"><span zid="562"><span zid="563"><span zid="564"><span zid="565"><span zid="566">&nbsp;</span></span></span></span></span></span></span></span></span></span></span></span></span></code><code zid="567"><span zid="568"><span zid="569"><span zid="570"><span zid="571"><span zid="572"><span zid="573"><span zid="574"><span zid="575"><span zid="576"><span zid="577"><span zid="578">&lt;a </span></span></span></span></span></span></span></span></span></span></span></code><code zid="459"><span zid="460">class="</span></code><code zid="461"><span zid="462">HelloHolder2</span></code><code zid="463"><span zid="464">"&gt;</span></code><code zid="465"><span zid="466"><span zid="467"><span zid="468"><span zid="469"><span zid="470"><span zid="471"><span zid="472"><span zid="473"><span zid="474"><span zid="475"><span zid="476"></span></span>&lt;/a&gt;</span></span></span></span></span></span></span></span></span></code><code zid="579"><span zid="580"><span zid="581"><span zid="582"><span zid="583"><span zid="584"><span zid="585"><span zid="586"><span zid="587"><span zid="588"></span></span></span></span></span></span></span></span></span></code><code zid="589"><span zid="590"><span zid="591"><span zid="592"><span zid="593"><span zid="594"><span zid="595"><span zid="596"><span zid="597"><span zid="598"></span></span></span></span></span></span></span></span></span></code><code zid="599"><span zid="600"><span zid="601"><span zid="602"><span zid="603"><span zid="604"><span zid="605"><span zid="606"><span zid="607"><span zid="608"><span zid="609"><span zid="610"><span zid="611"><span zid="612"></span></span></span></span></span></span></span></span></span></span></span></span></span></code><code zid="613"><span zid="614"><span zid="615"><span zid="616"><span zid="617"><span zid="618"><span zid="619"><span zid="620"><span zid="621"><span zid="622"></span></span></span></span></span></span></span></span></span></code><code zid="623"><span zid="624"><span zid="625"><span zid="626"><span zid="627"><span zid="628"><span zid="629"><span zid="630"><span zid="631"><span zid="632"><span zid="633"><span zid="634"></span></span></span></span></span></span></span></span></span></span></span></code><code zid="635"><span zid="636"><span zid="637"><span zid="638"><span zid="639"><span zid="640"><span zid="641"><span zid="642"><span zid="643"><span zid="644"><span zid="645"><span zid="646"><span zid="647"><span zid="648"></span></span></span></span></span></span></span></span></span></span></span></span></span></code><code zid="649"><span zid="650"><span zid="651"><span zid="652"><span zid="653"><span zid="654"><span zid="655"><span zid="656"><span zid="657"><span zid="658"><br zid="478"><span zid="479">&nbsp;&nbsp;&nbsp;&nbsp;<span zid="480">&nbsp;&nbsp;&nbsp; &lt;div&gt;<br zid="481"></span></span></span></span></span></span></span></span></span></span></span></code><code zid="482"><span zid="483"><span zid="484"><span zid="485"><span zid="486"><span zid="487">&nbsp;&nbsp;&nbsp;&nbsp;<span zid="488">&nbsp;&nbsp;&nbsp;&nbsp;<span zid="489">&nbsp;&nbsp;&nbsp;&nbsp;</span></span></span>&lt;span class="</span></span></span></span></code><code zid="490"><span zid="491"><span zid="492"></span></span></code><code zid="493"><span zid="494">H</span></code><code zid="495"><span zid="496">elloText</span></code><code zid="497"><span zid="498"><span zid="499"><span zid="500"><span zid="501">"&gt; Hello World &lt;/span&gt;<br zid="502"><span zid="503">&nbsp;&nbsp;&nbsp;&nbsp;<span zid="504">&nbsp;&nbsp;&nbsp;&nbsp;<span zid="505">&nbsp;&nbsp;&nbsp; &lt;a class="</span></span></span></span></span></span></span></code><code zid="506"><span zid="507"></span></code><code zid="508"><span zid="509"></span></code><code zid="510"><span zid="511">Hel</span></code><code zid="512"><span zid="513">loButton</span></code><code zid="514"><span zid="515"></span></code><code zid="516"><span zid="517"><span zid="518"><span zid="519"><span zid="520"><span zid="521"><span zid="522"><span zid="523">"&gt;&lt;/a&gt;</span></span></span></span></span></span></span></code><code zid="659"><span zid="660"><span zid="661"><span zid="662"><span zid="663"><span zid="664"><span zid="665"><span zid="666"><span zid="667"><span zid="668"><span zid="669"><span zid="670"><br zid="671"><span zid="672">&nbsp;&nbsp;&nbsp;&nbsp;<span zid="673">&nbsp;&nbsp;&nbsp;&nbsp;</span></span>&lt;/div&gt;</span></span></span></span></span></span></span></span></span></span></span></code><br zid="524"><span zid="525">&nbsp;&nbsp;&nbsp;&nbsp;<span zid="526">&nbsp;&nbsp;&nbsp;&nbsp;<span zid="527">&nbsp;&nbsp;&nbsp; </span></span></span><br zid="675"><code zid="676"><span zid="677"><span zid="678"><span zid="679"><span zid="680"><span zid="681"><span zid="682"><span zid="683"><span zid="684"><span zid="685"><span zid="686"><span zid="687"><span zid="688">&nbsp;&nbsp;&nbsp;&nbsp;<span zid="689">&nbsp;&nbsp;&nbsp;&nbsp;</span></span>&lt;a </span></span></span></span></span></span></span></span></span></span></span></code><code zid="690"><span zid="691">class="</span></code><code zid="692"><span zid="693">HelloHolder3</span></code><code zid="694"><span zid="695">"&gt;</span></code><code zid="696"><span zid="697"><span zid="698"><span zid="699"><span zid="700"><span zid="701"><span zid="702"><span zid="703"><span zid="704"><span zid="705"><span zid="706"><span zid="707"></span></span>&lt;/a&gt;</span></span></span></span></span></span></span></span></span></code><br zid="368"><code zid="528"><span zid="529"><span zid="530"><span zid="531"><span zid="532"><span zid="533"><span zid="534"><span zid="535"><span zid="536"><span zid="537"><span zid="538"><span zid="539"></span></span></span></span></span></span></span></span></span></span><span zid="369"><span zid="541">&nbsp;&nbsp;&nbsp; &lt;/div&gt;<br zid="542">&lt;/div&gt;<br zid="244"></span></span></span></code><br zid="709">Now,
unto hides.&nbsp; Occassionaly, same level elements elements should
only show one at a time. In other words, one only wants the select link
dialog to show when no other dialogues are visible.&nbsp; This can be
setup in multiple ways.<br zid="710">One way is to have it hide on blur.&nbsp; Another way is to claim that other similar element should hide it.<br zid="117"></body></html>